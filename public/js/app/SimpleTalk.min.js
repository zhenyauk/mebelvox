function SimpleTalkResources_Class(){var a=this,b=[];a.addResource=function(a,c){b.push({key:a,value:c})},a.getResource=function(a){for(var c=0;c<b.length;++c){var d=b[c];if(d.key===a)return d.value}return""},a.fill=function(c){for(var d in c)c.hasOwnProperty(d)&&a.addResource(d,c[d]);console.log(b)}}function PriceCalculator_Class(a){function h(a){for(var b=0;b<e.length;++b){var c=e[b];if(c.id===a)return c.price}return d&&console.log("No price data for id: "+a+"."),0}function i(a){for(var b=0;b<e.length;++b){var c=e[b];if(c.id===a)return c.koszyk_id}return d&&console.log("No cart data for id: "+a+"."),0}function j(a){return"biurko_140_zestaw_1"===a||"biurko_140_zestaw_2"===a||"komoda_zestaw_1"===a||"komoda_zestaw_2"===a||"rtv_zestaw_1"===a||"stolik_nocny_zestaw_1"===a}function k(a){return-1!=a.id.indexOf("ST_lozko")}function l(a,b,c){var e=c[b+"_"+a.replace("-","_")],f=m(b,c);return d&&console.log("Price's key: "+f+"_"+e),f+"_"+e}function m(a,b){return b["type_"+a]}var b={body_white:"bialy",body_black:"czarny",body_wood:"dab",body_gray:"szary",front_white:"bialy",front_black:"czarny",front_wood:"dab",front_gray:"szary",body_bed_white:"bialy",body_bed_black:"czarny",body_bed_wood:"dab",body_bed_gray:"szary",front_bed_white:"bialy",front_bed_black:"czarny",front_bed_wood:"dab",front_bed_gray:"szary",handles_white:"bialy",handles_black:"czarny",handles_gray:"szary",legs_legs_wheels:"kolko-do-biurka-kpl-4szt-simple-by-vox-czarny",legs_legs_black:"noga-prosta-kpl-4szt-simple-by-vox-czarny",legs_legs_trapeze:"noga-skosna-kpl-4szt-simple-by-vox-czarny",legs_legs_cone:"noga-owalna-kpl-4szt-simple-by-vox-dab",legs_legs_wood:"noga-prosta-kpl-4szt-simple-by-vox-dab",legs_legs_skids:"ploza",legs_legs_none:"slizgacz-kpl-4szt-simple-by-vox-czarny",type_body_bed:"kolor-oskrzyni",type_front_bed:"kolor-wezglowia",type_front:"kolor-frontu",type_body:"kolor-korpusu",type_legs:"nozki",type_handles:"kolor-uchwytu",type_accessories:"akcesoria-do-listwy-funkcyjnej-pojedyncze-akcesoria",type_presets:"akcesoria-do-listwy-funkcyjnej-gotowe-zestawy",accessories_akc_probowka:"wazonik-simple",accessories_akc_ramka:"ramka-do-zdjec-simple",accessories_akc_tablet:"uchwyt-do-tabletu-simple",accessories_akc_telefon:"uchwyt-do-telefonu-simple",accessories_akc_wyp25:"zaslepka-250-simple",accessories_akc_wyp40:"zaslepka-400-simple",accessories_akc_wyp15:"zaslepka-150-simple",presets_biurko_140_zestaw_1:"zestaw-akcesoriow-do-biurka-simple",presets_biurko_140_zestaw_2:"zestaw-zaslepek-do-biurka-simple",presets_komoda_zestaw_1:"zestaw-akcesoriow-do-komody-simple",presets_komoda_zestaw_2:"zestaw-zaslepek-do-komody-simple",presets_rtv_zestaw_1:"zestaw-zaslepek-do-szafki-rtv-180-simple",presets_stolik_nocny_zestaw_1:"zestaw-akcesoriow-do-stolika-nocnego-simple"},c=this,d=!0,e=[],f=null,g=a;c.hasPrices=function(){return e.length},c.getFurniturePrice=function(a){var d=0;if(a.legs&&(d+=h(l(a.legs,"legs",b))),a.handles&&(d+=h(l(a.handles,"handles",b))),k(a)?(a.body&&(d+=h(l(a.body,"body_bed",b))),a.front&&(d+=h(l(a.front,"front_bed",b)))):(a.body&&(d+=h(l(a.body,"body",b))),a.front&&(d+=h(l(a.front,"front",b)))),a.accessories)for(var e=0;e<a.accessories.length;++e){var f=a.accessories[e],g=j(f)?"presets":"accessories";d+=h(l(f,g,b))}return c.hasPrices()?d:"N/A"},c.getFurnitureCart=function(a){function c(a,b,c){function d(a,b,c,d){var e=i(l(a,b,d));return'"'+m(b,d)+'": { "id": "'+e+'" , "quantity": "'+c+'" }'}var e=[];return k(a)?(a.body&&e.push(d(a.body,"body_bed",1,b)),a.front&&e.push(d(a.front,"front_bed",1,b))):(a.body&&e.push(d(a.body,"body",1,b)),a.front&&e.push(d(a.front,"front",1,b))),a.legs&&e.push(d(a.legs,"legs",1,b)),a.handles&&e.push(d(a.handles,"handles",1,b)),"{ "+e.join(",")+"}"}function d(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(d.pw_name===a.id)return d.pw_id}return console.log("No product data for:"+a.id),""}function f(a){var b="https://static1.vox.pl/files/assets/img/thumbs/",c=a.front,d=a.body,e=a.id,f=a.legs,g=a.handles;return c+f+g?c+g?g?b+e+"/"+f+"/"+g+"/"+d+"/"+c+"/":b+e+"/"+f+"/"+d+"/"+c+"/":b+e+"/"+f+"/"+d+"/":b+e+"/"+d+"/"}function h(a,b){function c(a,b){var a=b.getResource("cart-color-name-"+a);return a||b.getResource("cart-unknow-color")}var d=[];return a.legs&&d.push(b.getResource("cart-legs")+": "+c(a.legs,b)),a.handles&&d.push(b.getResource("cart-handles")+": "+c(a.handles,b)),k(a)?(a.body&&d.push(b.getResource("cart-body-bed")+": "+c(a.body,b)),a.front&&d.push(b.getResource("cart-front-bed")+": "+c(a.front,b))):(a.body&&d.push(b.getResource("cart-body")+": "+c(a.body,b)),a.front&&d.push(b.getResource("cart-front")+": "+c(a.front,b))),a.name+", "+d.join(", ")}function n(a,b){function c(a){try{return a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase()}catch(b){return console.log(b),a}}var d="";if(j(a)){var e=a.split("_");d="1"===e[e.length-1]?b.getResource("components_func_preset_name"):b.getResource("components_cover_preset_name")}else d=b.getResource("components_"+a+"_name");return d&&(d=c(d)),d||b.getResource("cart-unknow-accessories")}function o(a){return"https://static1.vox.pl/files/assets/img/thumbs/accessories/"+a+".jpg"}var p=c(a,b,e),q=[{id:d(a,e),name:h(a,g),image:f(a)+"thumb.jpg",items:JSON.parse(p)}];if(a.accessories){for(var r=[],s=0;s<a.accessories.length;++s){var t=a.accessories[s],u=j(t)?"presets":"accessories",v=i(l(t,u,b));if(r.length){for(var w=!1,x=0;x<r.length;++x){var y=r[x];if(y.id===v){y.q+=1,w=!0;break}}w||r.push({id:v,q:1,name:t})}else r.push({id:v,q:1,name:t})}for(var z=0;z<r.length;++z){var t=r[z],u=j(t.name)?"presets":"accessories",A=m(u,b),B='{ "'+A+'": { "id": "'+t.id+'" , "quantity": "'+t.q+'" } }',C={id:d(a,e),name:n(t.name,g),image:o(t.name),items:JSON.parse(B)};q.push(C)}}return q},c.addPricesData=function(a,b){function c(a){function b(a){function b(a){return"akcesoria-do-listwy-funkcyjnej-gotowe-zestawy"!==a.ELEMENT_KOD&&"akcesoria-do-listwy-funkcyjnej-pojedyncze-akcesoria"!==a.ELEMENT_KOD&&"nozki"!==a.ELEMENT_KOD}function c(a){var b=a.split("-");return b[b.length-1]}return"ploza"===a.ELEMENT_OPCJA_KOD.split("-")[0]?"ploza":b(a)?c(a.ELEMENT_OPCJA_KOD):a.ELEMENT_OPCJA_KOD}return a.ELEMENT_KOD+"_"+b(a)}function g(a){var b=a.ELEMENT_OPCJA_CENA_PROMOCJA?a.ELEMENT_OPCJA_CENA_PROMOCJA:a.ELEMENT_OPCJA_CENA;return b?Number(b):0}try{var h=f=JSON.parse(a);if(h)for(var i=0;i<h.length;++i){var j=h[i];if(!b||b===j.PRODUKT_KOD){var k={id:c(j),pw_id:j.PRODUKT_ID,koszyk_id:j.ELEMENT_OPCJA_KOSZYK_ID,pw_name:j.PRODUKT_KOD,price:g(j),name:j.ELEMENT_OPCJA_NAZWA};e.push(k)}}else d&&console.log("Invalid price json data.")}catch(a){d&&console.log(a.message)}}}function ViewState(){function f(a){e=a}function g(a){d=a}var a=1,b=2,c=this,d=a,e=null;c.setMainView=function(){g(a)},c.setDetailsView=function(){g(b)},c.setViewState=function(a){f(a)},c.isMainView=function(){return d===a},c.isDetailsView=function(){return d===b},c.getState=function(){return e}}function ResizeManager_Class(a,b,c){var d=0,e=1,g=this,h=a,i=b,j=d,k=!1,l=$(c).width(),m=$(c).height(),n=!1;g.isRunning=function(){return j===e},g.start=function(a,b){a!=l||b!=m?(n=!0,l=a,m=b):n=!1,k=!0,g.isRunning()||(h&&n&&h(),j=e),k&&setTimeout(function(){k&&j===e&&i&&(g.stop(),i())},1500)},g.stop=function(){j=d,k=!1,n=!1}}function GetFurniturePriceBasedOnCurrentState(){return stPriceCalculator.getFurniturePrice(furniture.GetFurnitureState())}function GetCartFurnitureData(){return stPriceCalculator.getFurnitureCart(furniture.GetFurnitureState())}function updatePrice(a){var b="N/A"===a?"N/A":Number(a).toFixed(0)+" zł";$(".st-main-menu-price-value").text(b)}function getFurnitureIdFromUrl(){var a=location.search.substring(1);if(-1!==a.indexOf("id")){var b=a.substring(a.indexOf("id")+3);return-1!==b.indexOf("&")&&(b=b.substring(0,b.indexOf("&"))),console.log("FurnitureIdReaded: "+b),b}return""}function getFurnitureIdFromProduct(a){return a}function SetVoxData(a){if("null"==a.origin||"http://test2.meble.vox.pl"==a.origin||"http://localhost"==a.origin||"http://www.meble.vox.pl"==a.origin){console.log(a+" "+a.data);var b=a.data?JSON.parse(a.data):null;_voxboxLoggedUserId=b?b.loggedUserId:0,b&&"select"!==b.specialToggleType?(console.log("Uruchamiamy widok do konfiguracji."),doInitializeActions(b.simpleType,!1,function(){$(".container.simple-talk-container").css("display","inherit"),$(".st-furniture-select-container").hide(),$("#fog").fadeOut("slow"),furniture.LoadFromFile(b),UpdateMenuSelection(),UpdateFurniture()})):(console.log("Uruchamiamy widok wszystkich mebli."),setTimeout(function(){$(".simple-talk-container .st-configurator-work-place").hide(),$(".st-furniture-select-container").show(),$("#fog").fadeOut("slow")},2e3))}else console.log("illegal vox data source: "+a.origin)}function doInitializeActions(a,b,c){InitalizeSimpleTalk(a,c),b&&($(".st-furniture-select-container").hide(),$(".simple-talk-container .st-configurator-work-place").fadeIn("slow"))}function InitalizeSimpleTalk(a,b){furniture=new Furniture(a),furniture.Load(function(){UpdateFurnitureOnLoad(b)})}function ChangeViewToMain(){currentViewState.isDetailsView()&&$("#st-special-loading-canvas").fadeIn("fast",function(){currentViewState.setMainView(),$("#main-image-container-accessories-remove").hide(),$(".st-accessories-img").hide(),$(".mainImageHover").hide();var a=currentViewState.getState();RefreshViewState(currentViewState,a,!1),haveToShowTableAlert(LEGS,furniture.nozki,furniture)?showTableAlert():hideTableAlert(),window.setTimeout(function(){$("#st-special-loading-canvas").fadeOut("slow")},500)})}function showActualAccessoriesLayer(){for(var a=$("#mainImageContainer img:visible").data("responsive"),b=$(".st-accessories-img"),c=0;c<b.length;++c){var d=b[c],e=$(d).data("accessories-repons");e===a&&$(d).show()}for(var f=$(".mainImageHover"),c=0;c<f.length;++c){var g=f[c],e=$(g).data("responsive");e===a&&$(g).show()}}function ChangeViewToDetails(){currentViewState.isMainView()&&$("#st-special-loading-canvas").fadeIn("fast",function(){currentViewState.setDetailsView();var a=currentViewState.getState();if(RefreshViewState(currentViewState,a,!1),furniture.GetAllAccessories().length){furniture.RedrawAllAccessories();$("#mainMenu:visible").length>0&&$("#main-image-container-accessories-remove").show(),showActualAccessoriesLayer()}hideTableAlert(),window.setTimeout(function(){$("#st-special-loading-canvas").fadeOut("slow")},1e3)})}function HideChangeViewControl(){$("#main-image-container-view-change").hide()}function ShowChangeViewControl(){$("#main-image-container-view-change").show()}function ShowLoadingViewContent(){$("#main-image-container-loading-canvas").show()}function HideLoadingViewContentOnly(){$("#main-image-container-loading-canvas").fadeOut("fast")}function HideLoadingViewContent(a,b){$("#main-image-container-loading-canvas").fadeOut("fast",function(){RefreshViewState(a,b,!1)})}function UpdateMenuSelection(){function a(a,b){for(var c=b.getSelectedName(a),d=$("#"+a+"-group-collapsed .elementGroupMiniatures .dekor"),e=0;e<d.length;++e){var f=d[e];$(f).data("name")===c?$(f).find(".img").addClass("st-position-in-step-selected"):$(f).find(".img").removeClass("st-position-in-step-selected")}}a(BODY,furniture),a(FRONTS,furniture),a(HANDLES,furniture),a(LEGS,furniture)}function SetAccordionInDefaultState(){function d(a,b,c){$(a).hasClass(b)||($(a).hasClass(c)&&$(a).removeClass(c),$(a).addClass(b))}function e(e){d($(e).find(a),b,c)}function f(e){d($(e).find(a),c,b)}function g(){var a=$(".st-step-accordion-header-collapse");if(a.length)for(var b=0;b<a.length;++b){var c=a.get(b);f($(c))}}var a=".st-step-accordion-header-collapse-icon",b="fa-caret-up",c="fa-caret-down";g();for(var h=$("#st-step-accordion .collapse"),i=0;i<h.length;++i){var j=h[i];0===i?$(j).collapse("show"):$(j).collapse("hide")}e($("#st-step-accordion .st-step-accordion-header-collapse:first")),$("#st-accessories-group-collapsed .alert").length&&$("#st-accessories-group-collapsed .alert").remove()}function RefreshViewState(a,b,c){function d(a,b){function c(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(parseInt(d.width)===a)return d.url}return null}var d=null;switch(a){case"XL1":d=c(960,b);break;case"XL2":d=c(734,b);break;case"XL3":d=c(600,b);break;case"L":d=c(734,b);break;case"M":d=c(600,b);break;case"S":d=c(367,b);break;case"XS":d=c(300,b)}return null==d&&(d=b[2].url),d}function e(a){var b="";switch(a){case"XL1":b="../assets/img/fakes/stLargeFake.png";break;case"XL2":b="../assets/img/fakes/stMediumFake.png";break;case"XL3":b="../assets/img/fakes/stM3Fake.png";break;case"L":b="../assets/img/fakes/stMediumFake.png";break;case"M":b="../assets/img/fakes/stM3Fake.png";break;case"S":b="../assets/img/fakes/stSmallFake.png";break;case"XS":b="../assets/img/fakes/stS2Fake.png";break;default:b="../assets/img/fakes/stLargeFake.png"}return b}function f(a){var b="";switch(a){case"XL1":b="../assets/img/fakes/XL1_hover.png";break;case"XL2":b="../assets/img/fakes/XL2_hover.png";break;case"XL3":b="../assets/img/fakes/XL3_hover.png";break;case"L":case"M":b="../assets/img/fakes/XL2_hover.png";break;case"S":b="../assets/img/fakes/S_hover.png";break;case"XS":b="../assets/img/fakes/XS_hover.png";break;default:b="../assets/img/fakes/XL1_hover.png"}return b}function g(a){var b=a&&a.message?a.message:"Nieznany błąd";console.log("Brak poprawnej odpowiedzi z serwera: "+b)}function h(a,b,c){$(".st-main-menu-size-values .st-main-menu-size-values-width").text(a),$(".st-main-menu-size-values .st-main-menu-size-values-depth").text(b),$(".st-main-menu-size-values .st-main-menu-size-values-height").text(c)}if(b&&"true"===b.result){for(var j=$(".mainImage:visible").data("responsive"),k=$(".mainImage"),l=0;l<k.length;++l){var m=$(k).get(l),n=$(m).data("responsive"),o=a.isMainView()?b.mainUrl:b.accessoriesUrl,p=j==n?"src":"data-src";if($(m).attr(p,d(n,o)),j!=n){var q=e(n);$(m).attr("src",q),$(m).unveil()}else $(m).attr("data-src",d(n,o))}if(furniture.hasDetails())for(var r=b.hoverUrl,s=$(".mainImageHover"),l=0;l<s.length;++l){var m=$(s).get(l),n=$(m).data("responsive"),p=j==n?"src":"data-src";if($(m).attr(p,d(n,r)),j!=n){var q=f(n);$(m).attr("src",q),$(m).unveil()}else $(m).attr("data-src",d(n,r))}if(!c)for(var k=$("#main-image-container-loading-canvas .mainImageLoading"),l=0;l<k.length;++l){var m=$(k).get(l),n=$(m).data("responsive"),o=a.isMainView()?b.mainUrl:b.accessoriesUrl,p=j==n?"src":"data-src";$(m).attr(p,d(n,o)),j!=n&&$(m).unveil()}var t;c&&(a.setViewState(b),updatePrice(GetFurniturePriceBasedOnCurrentState()))}else g(b)}function UpdateFurnitureOnLoad(a){furniture.hasDetails()?ShowChangeViewControl():HideChangeViewControl(),null!=a&&a(),UpdateMenuSelection(),UpdateFurniture()}function UpdateFurniture(){function a(a,b){var c=JSON.parse(a);RefreshViewState(b,c,!0),window.setTimeout(function(){HideLoadingViewContent(b,c)},300)}function b(a,b){function c(a){return"../assets/img/stXMediumFake.png"}for(var d=$(".mainImage"),e=0;e<d.length;++e){var f=$(d).get(e),g=$(f).data("responsive");$(f).attr("src",c(g))}HideLoadingViewContent(b,null)}if(useServerMethod){ShowLoadingViewContent();var c=JSON.stringify(furniture);$.post("../server/getActualImage.php",{data:c}).done(function(b){a(b,currentViewState)}).fail(function(a){b(a,currentViewState)})}else for(var d=$(".mainImage"),e=0;e<d.length;++e){var f=$(d).get(e);$(f).data("responsive");$(f).attr("src",furniture.getImagePath())}}function haveToShowTableAlert(a,b,c){return c.id==ST_BIURKO_140_ID&&"legs-none"==b}function showTableAlert(a,b){$(".st-ghost-alert-container").fadeIn("slow",function(){a&&setTimeout(function(){$(".st-ghost-alert-container").fadeOut("slow")},b||3e3)})}function hideTableAlert(){$(".st-ghost-alert-container").fadeOut("slow")}function ChangeElement(a,b){switch(a){case FRONTS:furniture.front=b;break;case LEGS:furniture.nozki=b;break;case BODY:furniture.korpus=b;break;case HANDLES:furniture.uchwyt=b}SaveToCache(!1),UpdateFurniture(),a==LEGS&&(haveToShowTableAlert(a,b,furniture)?showTableAlert():hideTableAlert())}function SetConfiguratorInDefaultState(){furniture.MakeDefault(UpdateFurnitureOnLoad),SetAccordionInDefaultState()}function SetSummaryPreview(){var a=furniture.GetAllBaseElements(),b=furniture.GetAllAccessories(),c=new ConfigPresentation_Class;c.addElement(a[0],BODY),c.addElement(a[1],FRONTS),c.addElement(a[2],HANDLES),c.addElement(a[3],LEGS);for(var d=0;d<b.length;++d){var e=b[d];c.addAccessories(e)}var f=$("#main-menu-confirmed .st-configuration-summary .elementGroupMiniatures.st-summary-base-elements"),g=c.createBaseElementsHtml();if(f.html(g),b.length){$("#main-menu-confirmed .st-configuration-summary .st-summary-accessories-menu-elements").show();var h=$("#main-menu-confirmed .st-configuration-summary .elementGroupMiniatures.st-summary-accessories"),i=c.createAccessoriesHtml();h.html(i)}else $("#main-menu-confirmed .st-configuration-summary .st-summary-accessories-menu-elements").hide();$("#main-menu-confirmed .st-configuration-summary .elementGroupMiniatures").find(".dekor").popover({html:!0})}function Return(){var a=GetFurnitureFromCache("id");$("#main-image-container-accessories-remove").fadeOut(),a&&!isSaveABuy?ChangeVoxProductContent(!0):CloseConfigurator()}function SendDataToVox(a){"close"!=a&&(a=JSON.stringify(furniture),$("#st-configurator-modal").css("display","none")),window.parent.postMessage({func:"getMessageFromSimpleTalk",message:a},"*")}function SaveFurniture(){if(isSaveABuy){var a=GetCartFurnitureData();console.log(a[0]),$.post(ADD_TO_CART_URL,{products:a}).done(function(){$("body").trigger("cart:refresh")}).error(function(a){console.log("error"+a)})}else $("#main-image-container-accessories-remove").fadeOut(),SaveToCache(!1),SetSummaryPreview(),ChangeVoxProductContent(!1)}function getCurrentDateTime(){var a=new Date,b=a.getDate(),c=a.getMonth()+1,d=a.getFullYear(),e=a.getHours(),f=a.getMinutes(),g=a.getSeconds();return b<10&&(b="0"+b),c<10&&(c="0"+c),e<10&&(e="0"+e),f<10&&(f="0"+f),g<10&&(g="0"+g),a=d+c+b+"_"+e+"_"+f+"_"+g}function getUserID(){return _voxboxLoggedUserId}function SaveProject(a,b){var c=getUserID(),d=c+"_"+getCurrentDateTime(),e=furniture.name;(null==e||e.length<1)&&(e=furniture.id);var f=$(".mainImage:visible").attr("src"),g=f.substring(0,f.lastIndexOf("/"))+"/M-8.png",h={userID:c,projectID:d,projectName:e,modelSizeXYZ:furniture.getSize(),imgSrc:g,projectXML:furniture.toXML()};$.post("../server/SimpleTalkProjects/upload/index.php",h).done(function(b){console.log("saving project status: "+b),a&&a(b)}).fail(function(){console.log("error"),b&&b()})}function ChangeVoxProductContent(a){$("#mainMenu").fadeOut("slow",function(){$("#main-menu-confirmed").fadeIn("slow",function(){a?SetConfiguratorInDefaultState():SetAccordionInDefaultState()})})}function CloseConfigurator(){$(".simple-talk-container").hide(),$(".vox-product-pw-main").fadeIn("slow"),SetConfiguratorInDefaultState()}function SaveToCache(a){if(a)var b="; expires=Tue, 19 Jan 2000 03:14:07 UTC;";else var b="; expires=Tue, 19 Jan 2038 03:14:07 UTC;";var c={id:furniture.id,front:furniture.front,nozki:furniture.nozki,korpus:furniture.korpus,uchwyt:furniture.uchwyt,wozki:furniture.wozki,ustawionoZestaw:furniture.GetSelectedPresetName()};setCookie("ST_KONFIGURACJA_MEBLA",JSON.stringify(c),b)}function getCookie(a){for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(b))return f.substring(b.length,f.length)}return""}function setCookie(a,b,c){var d=[],e=[];if(getCookie(a).trim().length){var f=new CookieParser_Class,g=f.decodeCookie(getCookie(a));d=$.parseJSON(g)}for(var h=$.parseJSON(b),i=0;i<d.length;i++){var j=d[i];j.id!=h.id&&e.push(j)}e.push(h);var f=new CookieParser_Class,k=f.encodeCookie(JSON.stringify(e));document.cookie=a+"="+k+c}function GetFurnitureFromCache(a){var b="ST_KONFIGURACJA_MEBLA",c=[];if(getCookie(b).trim().length){var d=new CookieParser_Class,e=d.decodeCookie(getCookie(b));c=$.parseJSON(e)}for(var f,g=0;g<c.length;g++){var h=c[g];if(h.id==a){f=h;break}}return f?JSON.stringify(f):""}function loadFromExternalXML(){$("#ExternalXMLLoaderModal").modal()}function parseTextAsXml(a){var b=jQuery.parseXML(a);$xml=$(b);var c=$xml.find("project")[0],d=c.getAttribute("type");$(".st-furniture-select-container").hide(),$("#ExternalXMLLoaderModal").modal("hide");var e={},f=$xml.find("front")[0];e.front=f.getAttribute("color");var g=$xml.find("uchwyt")[0];e.uchwyt=g.getAttribute("color");var h=$xml.find("korpus")[0];e.korpus=h.getAttribute("color");var i=$xml.find("nozki")[0];e.nozka=i.getAttribute("type");for(var j=$xml.find("wozek"),k=[],l=0;l<j.length;l++)k[l]={id:parseInt(j[l].getAttribute("id"))};e.wozki=k,InitalizeSimpleTalk(d,function(){furniture.LoadFromFile(e)})}function waitForTextReadComplete(a){a.onloadend=function(a){parseTextAsXml(a.target.result)}}function handleFileSelection(){if($("#externalProject")[0].files.length>0&&null!=$("#externalProject")[0].files[0]){var a=$("#externalProject")[0].files[0];reader=new FileReader,waitForTextReadComplete(reader),reader.readAsText(a)}}function UpdateProgressBar(a){var b=parseInt($("#progressBar").attr("aria-valuenow"));b<100&&(b+=20,$("#progressBar").attr("aria-valuenow",b),$("#progressBar").attr("style","width:"+b+"%"),$("#progressBar").text(a))}function FinalizeProgressBar(a){$("#progressBar").attr("aria-valuenow",100),$("#progressBar").attr("style","width:100%"),$("#progressBar").text("Załadowano"),a&&$(".simple-talk-container .st-configurator-work-place").show(),SIMPLE_IN_VOX||$("#fog").fadeOut("slow")}function ChangeFurnitureName(a){$("#mainMenu .st-main-menu-header-name-bottom").text(a),$(".st-mobile-header .st-main-menu-header-name-bottom").text(a)}function SetDefaultPreviewState(){$(".mainImage.st-responsive-xl1").attr("src","../assets/img/fakes/stLargeFake.png"),$(".mainImage.st-responsive-xl2").attr("src","../assets/img/fakes/stMediumFake.png"),$(".mainImage.st-responsive-xl3").attr("src","../assets/img/fakes/stM3Fake.png"),$(".mainImage.st-responsive-l").attr("src","../assets/img/fakes/stMediumFake.png"),$(".mainImage.st-responsive-m").attr("src","../assets/img/fakes/stMediumFake.png"),$(".mainImage.st-responsive-s").attr("src","../assets/img/fakes/stSmallFake.png"),$(".mainImage.st-responsive-xs").attr("src","../assets/img/fakes/stS2Fake.png"),$(".mainImageLoading.st-responsive-xl1").attr("src","../assets/img/fakes/stLargeFake.png"),$(".mainImageLoading.st-responsive-xl2").attr("src","../assets/img/fakes/stMediumFake.png"),$(".mainImageLoading.st-responsive-xl3").attr("src","../assets/img/fakes/stM3Fake.png"),$(".mainImageLoading.st-responsive-l").attr("src","../assets/img/fakes/stMediumFake.png"),$(".mainImageLoading.st-responsive-m").attr("src","../assets/img/fakes/stMediumFake.png"),$(".mainImageLoading.st-responsive-s").attr("src","../assets/img/fakes/stSmallFake.png"),$(".mainImageLoading.st-responsive-xs").attr("src","../assets/img/fakes/stS2Fake.png")}function SavePreset(a){function b(b){console.log("Preset saved: "+a+"/n event info: "+b),furniture.userId=null}function c(b){console.log("Preset save FAILED: "+a+"/n event info: "+b),furniture.userId=null}null!=a&&a.length>0&&(furniture.name=a),furniture.userId=88299,SaveProject(b,c)}function changeFurnitureProjectName(a,b){furniture.ChangeName(b)}function VoxBoxSaveManager_Class(a,b,c){function k(a){h&&console.log("zapis"),a.preventDefault(),i&&i(a)}function l(a){h&&console.log("zmiana nazwy"),a.preventDefault(),j&&j(a,$(this).val())}function m(a){h&&console.log("umieszczenie projektu w pokoju"),a.preventDefault(),SendDataToVox(),setTimeout(function(){SetAccordionInDefaultState(),SetDefaultPreviewState(),$("#main-image-container-view-change-front").addClass("active"),$("#main-image-container-view-change-details").removeClass("active"),ChangeViewToMain(),$("#fog").show()},1300)}var d=this,e=a,f=b,g=c,h=!1;d.createHtml=function(){var a=f.getResource("other_no_logged_into_voxbox"),b=g?f.getResource("other_edit"):f.getResource("other_place_in_room"),c=f.getResource("other_yours_project_name"),d=f.getResource("other_yours_project_name_st"),i=f.getResource("voxbox_menu_save_button"),j=f.getResource("other_yours_project_name_desc"),k='<div class="st-voxbox-save-modal-container">';return k+=e||h?'<div class="st-voxbox-save-info"><p>'+c+'</p><textarea type="text" id="menuTitle" value="'+d+'" data-toggle="tooltip" title="'+j+'"></textarea><div class="row"><div class="col-xs-12 save-container"><button id="st-voxbox-save-btn" class="additionalButtons st-btn-red">'+i+'</button></div></div></div><div class="alert alert-success st-voxbox-save-result" role="alert"><p></p></div><div class="st-voxbox-goto"><button id="goVox" type="button" class="btn btn-default">'+b+"</button></div>":'<div class="alert alert-info" role="alert"><p class="st-voxbox-save-modal-login">'+a+'</p></div><div class="st-voxbox-goto"><button id="goVox" type="button" class="btn btn-default">'+b+"</button></div>",k+="</div>"};var i=null,j=null;d.addEvents=function(a,b){i=a,j=b,$("#st-voxbox-save-btn").off("click",k).on("click",k),$("#menuTitle").off("keyup",l).on("keyup",l),$("#goVox").off("click",m).on("click",m)}}function AccessoriesArea_Class(a,b,c){function i(a,b,c,d,e,f){function j(a,b){var c=752907.2+-752907.1691493399/(1+Math.pow(a/3281548,1.176677)),d=752907.2+-752907.1691493399/(1+Math.pow(a/3281548,1.176677));return b&&"ST_rtv_180"===b&&(c=0,d=0),b&&"ST_stolik_nocny_szuflady"===b&&(c*=2,d*=2),{x:c,y:d}}var k=a,l=b;return l-=(j(e,f).y+0)*c,h&&console.log("skala: "+c+" x: "+a+"->"+k+" y: "+b+"->"+l),{x:k,y:l}}var d=this,e=a,f=b,g=c,h=!1;d.getNewAccessoriesPosition=function(a,b,c,e){return d.getPositionFor(a,b,c,a.length-1,e)},d.getNewAccessoriesSize=function(a,b,c){var d=960;return{w:c.a*a/d,h:c.b*a/d}},d.getAccessoriesArea=function(){return f},d.getPositionFor=function(a,b,c,d,h){function j(a,b,c,d){var e=(c.y-b.y)/(c.x-b.x);return e*a+(b.y-e*b.x)*d}function k(a){return 5*a}for(var m=e.a,o=(e.b,0),p=0,q=0;q<d;++q){var r=a[q];o+=r.areaA.a-r.offset,p+=r.realWidth}a.length>d&&(o-=a[d].offset);var s=b/m,t=(o-k(d))*(b/960)+g.x*s;return i(t,j(t,g,{x:g.x+f.a,y:g.y+f.b},s),s,d,p,h)}}function ConfigPresentation_Class(){function g(a){return a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(a){function b(a){return a.popover.name}function c(a){return'<img class="text-center" src="'+a.popover.url+'" /><p class="st-preset-popover">'+a.popover.description+"</p>"}if(a.popover){return'data-toggle="popover" data-placement="top" data-trigger="hover" title="'+g(b(a))+'" data-content="'+g(c(a))+'"'}return""}var a=this,b=[],c=null,d=null,e=null,f=null;a.addElement=function(a,b){switch(b){case BODY:c=a;break;case FRONTS:d=a;break;case HANDLES:e=a;break;case LEGS:f=a}},a.addAccessories=function(a){b.push(a)},a.createBaseElementsHtml=function(){function a(a){var b="../assets/menu/thumbs/"+a.thumb,c=h(a);return'<div class="dekor st-miniature-container" data-name="'+a.name+'" '+c+'><div class="dip-pw-color-sample img" style="background-image:url(\''+b+'\');"></div><div class="name">'+a.desc+"</div></div>"}var b="";return c&&(b+=a(c)),d&&(b+=a(d)),e&&(b+=a(e)),f&&(b+=a(f)),b},a.createAccessoriesHtml=function(){for(var a="",c=0;c<b.length;++c){var d=b[c],e="../assets/menu/thumbs/"+d.thumb,f=h(d);a+='<div class="dekor st-miniature-container" data-name="'+d.name+'" '+f+'><div class="dip-pw-color-sample img" style="background-image:url(\''+e+'\');"></div><div class="name">'+d.desc+"</div></div>"}return a}}function Accessories_Class(a,b){function f(a,b,c){return new Presets_Class(a,b,c).getPresets()}function g(a,b,c,d,e,f,g,i){function j(a){return a+".png"}function k(a,b){return"../assets/img/accessories/"+b+"_"+a+".png"}function l(a,b){switch(a){case"akc_memo":case"akc_probowka":case"akc_przybornik_duzy":case"akc_przybornik_sredni":case"akc_ramka":case"akc_tablet":case"akc_tablica":case"akc_telefon":case"akc_wyp25":case"akc_wyp40":case"akc_wyp15":return""}return""}function m(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(d.name===a)return d.c}return 0}function n(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(d.name===a)return{a:d.a,b:d.b}}return null}function o(a,b){var c=new AccessoriesDescription_Class(b),d=c.getDescription(a);return d?{name:d.header,description:d.desc,url:d.url}:null}return h(a,b,j(b),l(b,f),k(b,c),m(b,d),n(b,d),e,g,i,o(b,f))}function h(a,b,c,d,e,f,g,h,i,j,k){var l={id:a,name:b,thumb:c,desc:d,url:e,width:f,areaA:g,realWidth:h,offset:i||0,preset:!!j,popover:k};return l.bigUrl="../assets/menu/thumbs/"+l.thumb.substring(0,l.thumb.lastIndexOf("."))+"_big.png",l}function i(){var a=[];return a.push({name:"akc_wyp15",a:89,b:50,c:102}),a.push({name:"akc_wyp25",a:145,b:80,c:166}),a.push({name:"akc_wyp40",a:228,b:126,c:255}),a.push({name:"akc_probowka",a:24,b:79,c:30}),a.push({name:"akc_ramka",a:96,b:91,c:111}),a.push({name:"akc_telefon",a:61,b:86,c:79}),a.push({name:"akc_tablet",a:174,b:210,c:197}),a.push({name:"akc_memo",a:70,b:102,c:79}),a.push({name:"akc_przybornik_duzy",a:207,b:163,c:238}),a.push({name:"akc_tablica",a:139,b:163,c:214}),a}function j(){var a=[],b=1.24;return a.push({name:"akc_wyp15",a:89*b,b:50*b,c:102*b}),a.push({name:"akc_wyp25",a:145*b,b:80*b,c:166*b}),a.push({name:"akc_wyp40",a:228*b,b:126*b,c:255*b}),a.push({name:"akc_probowka",a:24*b,b:79*b,c:30*b}),a.push({name:"akc_ramka",a:96*b,b:91*b,c:111*b}),a.push({name:"akc_telefon",a:61*b,b:86*b,c:79*b}),a.push({name:"akc_tablet",a:174*b,b:210*b,c:197*b}),a.push({name:"akc_memo",a:70*b,b:102*b,c:79*b}),a.push({name:"akc_tablica",a:139*b,b:163*b,c:214*b}),a.push({name:"akc_przybornik_sredni",a:46*b,b:62*b,c:54*b}),a}function k(){var a=[],b=.78;return a.push({name:"akc_wyp15",a:89*b,b:50*b,c:102*b}),a.push({name:"akc_wyp25",a:145*b,b:80*b,c:166*b}),a.push({name:"akc_wyp40",a:228*b,b:126*b,c:255*b}),a.push({name:"akc_probowka",a:24*b,b:79*b,c:30*b}),a.push({name:"akc_ramka",a:96*b,b:91*b,c:111*b}),a.push({name:"akc_telefon",a:61*b,b:86*b,c:79*b}),a.push({name:"akc_tablet",a:174*b,b:210*b,c:197*b}),a.push({name:"akc_memo",a:70*b,b:102*b,c:79*b}),a.push({name:"akc_tablica",a:139*b,b:163*b,c:214*b}),a.push({name:"akc_przybornik_sredni",a:46*b,b:62*b,c:54*b}),a.push({name:"akc_przybornik_duzy",a:207*b,b:165*b,c:238*b}),a}function l(){var a=[],b=1.66;return a.push({name:"akc_wyp15",a:89*b,b:50*b,c:102*b}),a.push({name:"akc_wyp25",a:145*b,b:80*b,c:166*b}),a.push({name:"akc_wyp40",a:236*b,b:127*b,c:256*b}),a.push({name:"akc_probowka",a:24*b,b:79*b,c:30*b}),a.push({name:"akc_ramka",a:96*b,b:91*b,c:111*b}),a.push({name:"akc_telefon",a:61*b,b:86*b,c:79*b}),a.push({name:"akc_tablet",a:174*b,b:210*b,c:197*b}),a.push({name:"akc_memo",a:70*b,b:102*b,c:79*b}),a.push({name:"akc_tablica",a:139*b,b:163*b,c:214*b}),a.push({name:"akc_przybornik_sredni",a:46*b,b:62*b,c:54*b}),a.push({name:"akc_przybornik_duzy",a:207*b,b:165*b,c:238*b}),a.push({name:"akc_tablet_v2",a:174*b,b:210*b,c:197*b}),a}function m(a,b,c){var d=[];return d.push(g(1,"akc_wyp15",b,a,15,c)),d.push(g(2,"akc_wyp25",b,a,25,c)),d.push(g(3,"akc_wyp40",b,a,40,c)),d.push(g(6,"akc_probowka",b,a,3.5,c)),d.push(g(9,"akc_ramka",b,a,16.5,c)),d.push(g(4,"akc_telefon",b,a,11,c)),d}function n(a,b){function c(a,b){var c=i(),d=m(c,a,b);return d.push(g(10,"akc_tablet",a,c,31,b)),d.push(g(5,"akc_memo",a,c,12,b,0,!0)),d.push(g(7,"akc_przybornik_duzy",a,c,36,b,0,!0)),d.push(g(11,"akc_tablica",a,c,24,b,0,!0)),d}function d(a,b){var c=j(),d=m(c,a,b);return d.push(g(10,"akc_tablet",a,c,31,b)),d.push(g(5,"akc_memo",a,c,12,b,0,!0)),d.push(g(8,"akc_przybornik_sredni",a,c,7.5,b,0,!0)),d}function e(a,b){var c=k(),d=m(c,a,b);return d.push(g(10,"akc_tablet",a,c,31,b)),d}function f(a,b){var c=l(),d=m(c,a,b);return d.push(g(10,"akc_tablet",a,c,31,b)),d.push(g(8,"akc_przybornik_sredni",a,c,7.5,b,0,!0)),d}function h(a){for(var b=a.split("_"),c="ST_",d=1;d<b.length;++d){c+=b[d].toLowerCase()+"_"}return c.substring(0,c.length-1)}switch(h(a)){case ST_BIURKO_140_ID:return c(a,b);case ST_KOMODA_90_LISTWA_ID:return d(a,b);case ST_RTV_180_ID:return e(a,b);case ST_STOLIK_NOCNY_SZUFLADY_ID:return f(a,b)}return[]}function o(a){return a.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];null!=d&&b.push(d.id)}return JSON.stringify(b)}function q(a,b){function c(a){return a.popover.name}function d(a){return'<img class="text-center st-popup-image" src="'+a.popover.url+'" /><p class="st-preset-popover">'+a.popover.description+"</p>"}if(a.popover){var e=o(c(a)),f=o(d(a));return'data-toggle="popover" data-placement="'+(b||"bottom")+'" data-trigger="hover" title="'+e+'" data-content="'+f+'"'}return""}var c=this,d=n(a,b),e=f(a,d,b);c.createPresetsHtml=function(a){function b(){var a='<div class="st-preset-description-container">';return a+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>',a+='<div class="row">',a+='<div class="col-md-12 col-sm-6 col-xs-12">',a+='<img src="../assets/img/preset1.jpg" />',a+="</div>",a+='<div class="col-md-12 col-sm-6 col-xs-12">',a+='<div class="st-preset-description-text"><p class="st-preset-description-text-main"></p><p class="st-preset-description-text-more"></p><p><button id="st-accessories-preset-add" class="st-btn-red">Dodaj <span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button></p></div>',a+="</div>",a+="</div>"}for(var c="",d=0;d<e.length;++d){var f=e[d],g="../assets/menu/thumbs/"+f.thumb,h=q(f),i=p(f.elements);f.id;c+='<div class="dekor st-miniature-container" data-as-one="'+f.asOne+'" data-preset-id="'+f.id+'" data-name="'+f.name+'" data-acc-id="'+i+'" '+h+'><div class="dip-pw-color-sample img" style="background-image:url(\''+g+'\');"></div><div class="name">'+f.desc+"</div></div>"}return a&&(c+=b()),c},c.createElementsHtml=function(){for(var a="",b=0;b<d.length;++b){var c=d[b];if(!c.preset){var e="../assets/menu/thumbs/"+c.thumb,f=q(c);a+='<div class="dekor st-miniature-container" data-name="'+c.name+'" data-acc-id="'+c.id+'" '+f+'><div class="dip-pw-color-sample img" style="background-image:url(\''+e+'\');"></div><div class="name">'+c.desc+"</div></div>"}}return a},c.getAccessoriesInfo=function(a){for(var b=0;b<d.length;++b){var c=d[b];if(c.id===a)return c}return null},c.getPresetInfo=function(a){for(var b=0;b<e.length;++b){var c=e[b];if(c.id===a)return c}return null},c.getPresetInfoByName=function(a){for(var b=0;b<e.length;++b){var c=e[b];if(c.name===a)return c}return null},c.getAccessoriesList=function(){return d}}function AccessoriesDescription_Class(a){function d(a){return"../assets/img/popover/"+a+".png"}var b=this,e=[{name:"akc_probowka",header:a.getResource("components_akc_probowka_name"),desc:a.getResource("components_akc_probowka_description"),url:d("akc_probowka")},{name:"akc_przybornik_duzy",header:a.getResource("components_akc_przybornik_duzy_name"),desc:a.getResource("components_akc_przybornik_duzy_description"),url:d("akc_przybornik_duzy")},{name:"akc_przybornik_sredni",header:a.getResource("components_akc_przybornik_sredni_name"),desc:a.getResource("components_akc_przybornik_sredni_description"),url:d("akc_przybornik_sredni")},{name:"akc_ramka",header:a.getResource("components_akc_ramka_name"),desc:a.getResource("components_akc_ramka_description"),url:d("akc_ramka")},{name:"akc_tablet",header:a.getResource("components_akc_tablet_name"),desc:a.getResource("components_akc_tablet_description"),url:d("akc_tablet")},{name:"akc_tablica",header:a.getResource("components_akc_tablica_name"),desc:a.getResource("components_akc_tablica_description"),url:d("akc_tablica")},{name:"akc_telefon",header:a.getResource("components_akc_telefon_name"),desc:a.getResource("components_akc_telefon_description"),url:d("akc_telefon")},{name:"akc_telefon",header:a.getResource("components_akc_telefon_name"),desc:a.getResource("components_akc_telefon_description"),url:d("akc_telefon")},{name:"akc_wyp15",header:a.getResource("components_akc_wyp15_name"),desc:a.getResource("components_akc_wyp15_description"),url:d("akc_wyp15")},{name:"akc_wyp25",header:a.getResource("components_akc_wyp25_name"),desc:a.getResource("components_akc_wyp25_description"),url:d("akc_wyp25")},{name:"akc_wyp40",header:a.getResource("components_akc_wyp40_name"),desc:a.getResource("components_akc_wyp40_description"),url:d("akc_wyp40")}];b.getDescription=function(a){for(var b=0;b<e.length;++b){var c=e[b];if(c.name===a)return c}return null}}function Presets_Class(a,b,c){function m(a){for(var b=null,c=0;c<k.length;++c){var d=k[c];if(d.id==a){b=d;break}}return null==b&&k.length&&(b=k[0]),b}function n(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];b.push(m(d))}return b}function o(a,b,c,d,e,f,g,h,i){return{id:a,name:b,thumb:c,url:g,desc:d,elements:e,more:f,popover:{name:h,description:f,url:g},asOne:!!i}}function p(a){return l.getDescription(a)}function q(a){return l.getLongName(a)}function r(a){return l.getName(a)}function s(a){return a+".jpg"}function t(a){return"../assets/img/"+a+".jpg"}function u(a,b,c,d){var e=p(b),f=t(b),g=q(b),h=r(b);return o(a,b,s(b),h,n(c),e,f,g,d)}function v(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e=d.name,f=d.elements,g=d.asOne;b.push(u(c+1,e,f,g))}return b}function w(){return v(e)}function x(){return v(f)}function y(){return v(h)}function z(){return v(g)}function A(){return v(i)}var d=this,e=[{name:"zestaw1",elements:[2,4,1,4,3,4]}],f=[{name:"biurko_140_zestaw_1",elements:[7,11,9,5,4,2],asOne:!0},{name:"biurko_140_zestaw_2",elements:[3,1,3,3],asOne:!0}],g=[{name:"komoda_zestaw_1",elements:[4,6,5,8,9,6,2],asOne:!0},{name:"komoda_zestaw_2",elements:[1,1,3,1],asOne:!0}],h=[{name:"rtv_zestaw_1",elements:[3,3,3,3],asOne:!0}],i=[{name:"stolik_nocny_zestaw_1",elements:[4,8,9],asOne:!0}],j=a,k=b,l=new PresetsDescriptions_Class(c);d.getPresets=function(){function a(a){for(var b=a.split("_"),c="ST_",d=1;d<b.length;++d){c+=b[d].toLowerCase()+"_"}return c.substring(0,c.length-1)}switch(a(j)){case ST_BIURKO_140_ID:return x();case ST_KOMODA_90_LISTWA_ID:return z();case ST_RTV_180_ID:return y();case ST_STOLIK_NOCNY_SZUFLADY_ID:return A()}return w()}}function PresetsDescriptions_Class(a){function e(a){for(var b=0;b<d.length;++b){var c=d[b];if(c.id===a)return c}return null}var b=this,d=[{id:"biurko_140_zestaw_1",name:"",longName:a.getResource("components_func_preset_name"),description:a.getResource("components_func_preset_description_biurko_140")},{id:"biurko_140_zestaw_2",name:"",longName:a.getResource("components_cover_preset_name"),description:a.getResource("components_cover_preset_description_biurko_140")},{id:"komoda_zestaw_1",name:"",longName:a.getResource("components_func_preset_name"),description:a.getResource("components_func_preset_description_komoda_listwa")},{id:"komoda_zestaw_2",name:"",longName:a.getResource("components_cover_preset_name"),description:a.getResource("components_cover_preset_description_komoda_listwa")},{id:"rtv_zestaw_1",name:"",longName:a.getResource("components_cover_preset_name"),description:a.getResource("components_cover_preset_description_rtv_180")},{id:"stolik_nocny_zestaw_1",name:"",longName:a.getResource("components_func_preset_name"),description:a.getResource("components_cover_preset_description_stolik_nocny")}];b.getName=function(a){var b=e(a);return b?b.name:""},b.getLongName=function(a){var b=e(a);return b?b.longName:""},b.getDescription=function(a){var b=e(a);return b?b.description:""}}function Furniture(a){this.id=a,this.name="",this.front="",this.nozki="",this.korpus="",this.uchwyt="",this.image="",this.akcesoria=!1,this.wozki=[],this.size="0,0,0",this.modelId=0,this.userId=null,this.busWidth=0,this.bigAreaCalculator=null,this.mediumAreaCalculator=null,this.smallAreaCalculator=null,this.hasDetails=function(){return this.akcesoria},this.legsHeight=9,this.descriptions=[],this.allAccessoriesAreFromPreset=""}function FurnitureXmlForm_Class(a,b){function h(a,b,c){for(var d="",e=0;e<a.length;++e){d+=a[e],(c||e!=a.length-1)&&(d+=b)}return d}function i(a){for(var b="",c=0;c<a;++c)b+=e;return b}function j(a,b){var c="<"+a;for(var f in b)c+=d+e+f+'="'+b[f]+'"';return c+=">"+d}function k(a){return"</"+a+">"}function l(a){var b=[];if(a.front&&b.push(e+'<front color="'+a.front+'" />'),a.uchwyt&&b.push(e+'<uchwyty color="'+a.uchwyt+'" />'),a.korpus&&b.push(e+'<korpus color="'+a.korpus+'" />'),a.nozki&&b.push(e+'<nozki type="'+a.nozki+'" />'),a.wozki.length){b.push(e+"<wozki>");for(var c=0;c<a.wozki.length;++c){var f=a.wozki[c];b.push(i(2)+'<wozek id="'+f.id+'" />')}b.push(e+"</wozki>")}return h(b,d,!0)}var c=this,d="\r\n",e="\t",f=a,g=b;c.generateForm=function(){var a='<?xml version="1.0" encoding="UTF-8"?>'+d;return a+=j("project",g)+d,a+=l(f)+d,a+=k("project")}}function FurnitureForm_Class(a,b,c){var e=a,f=c,g=b;this.generateForm=function(){switch(f){case"xml":return new FurnitureXmlForm_Class(e,g).generateForm()}return""}}function RunOutOfPlaceForAccessories_Class(a,b){function f(a){for(var b=0,c=a.GetAllAccessories(),d=0;d<c.length;++d){b+=c[d].realWidth}return b}function g(a){return a.busWidth-f(a)}function h(){return 0}function i(a,b){var c=[],d=h();if(b&&b.length)for(var e=0;e<b.length;++e){var f=b[e];f.realWidth+d<=a&&!f.preset&&c.push(f)}return c}function j(a){var b=this;a.preventDefault(),_onAccessoriesClick&&(_onAccessoriesClick(a,b,!0),$("#st-configurator-modal").css("display","none"))}var c=this,d=a,e=b;c.createHtml=function(){function a(){return'<div class="st-run-out-place-container">'}function b(){return"</div>"}function c(){return'<p class="st-run-out-place-header">Na szynie zabrało już miejsca na ułożenie wybranego elementu.</p>'}function f(a){function b(a){return'<div class="col-xs-12 col-sm-6 col-md-6 st-furniture-select-carousel-item text-center st-run-out-place-item-to-add" data-furniture-id="'+a.desc+'" data-acc-id="'+a.id+'"><img src="'+a.bigUrl+'" alt="'+a.desc+'"/><p class="st-furniture-select-furniture-name">'+a.desc+"</p></div>"}if(a.length){var c="<p>Możesz jeszcze wybrać:</p>";c+='<div><div class="row">';for(var d=0;d<a.length;++d){c+=b(a[d])}return c+="</div></div>"}return"<p>Niestety żeby zmienić konfiguracje konieczne jest usunięcie aktualnie zamieszczonych akcesoriów.</p>"}var h=a();return h+=c(),h+=f(i(g(d),e)),h+=b()},_onAccessoriesClick=null,c.addEvents=function(a){_onAccessoriesClick=a,$(".st-run-out-place-container .st-run-out-place-item-to-add").off("click",j).on("click",j)}}function Menu(a){this.menuTitle=a.name,this.fronty=a.components.front,this.korpus=a.components.korpus,this.nozki=a.components.nozki,this.uchwyt=a.components.uchwyt,this.wózki=a.components.wozki,this.descriptions=a.descriptions,this.Load()}function showNoPlaceAlert(){var a=new Accessories_Class(furniture.id,simpleTalkResources),b=new RunOutOfPlaceForAccessories_Class(furniture,a.getAccessoriesList()),c=b.createHtml();$("#st-configurator-modal .st-modal-content-container").html(c),$("#st-configurator-modal").css("display","block"),b.addEvents(addAccessoriesToScene)}function hideNoPlaceAlert(){0===$("#st-accessories-group-collapsed .alert").length||$("#st-accessories-group-collapsed").find(".alert:last").slideUp("fast",function(){$(this).remove()})}function switchToDetailsViewA(){$("#main-image-container-view-change-front").removeClass("active"),$("#main-image-container-view-change-details").addClass("active"),ChangeViewToDetails()}function addAccessoriesToScene(a,b,c){a.preventDefault();var d=$(b).data("acc-id");currentViewState.isMainView()&&switchToDetailsViewA();var e=furniture.AddAccessories(d);if(null!=e){refreshAccessories(e),hideNoPlaceAlert();for(var f=$("#mainImageContainer img:visible").data("responsive"),g=$(".mainImageHover"),h=0;h<g.length;++h){var i=g[h];$(i).data("responsive")===f&&$(i).show()}updatePrice(GetFurniturePriceBasedOnCurrentState()),SaveToCache(!1)}else showNoPlaceAlert()}function changeViewContent(a){var b=$(this).parent(".elementGroupMiniatures").data("type"),c=$(this).data("name");$(this).parent(".elementGroupMiniatures").find(".dekor .img").removeClass("st-position-in-step-selected"),$(this).find(".img").addClass("st-position-in-step-selected"),ChangeElement(b,c)}function createMiniature(a,b){var c=$("#"+a+"-group-collapsed .elementGroupMiniatures"),d=simpleTalkResources.getResource(b.desc);a===LEGS&&1===d.split(" ").length&&(d+="<br/>&nbsp;");var e="../assets/menu/thumbs/"+b.thumb,f='<div class="dekor st-miniature-container" data-name="'+b.name+'"><div class="dip-pw-color-sample img" style="background-image:url(\''+e+'\');"></div><div class="name">'+d+"</div></div>";c.append(f);for(var g=c.find(".dekor"),h=0;h<g.length;++h){var i=g[h];if($(i).data("name")==b.name){$(i).on("click",changeViewContent);break}}}function refreshAccessories(a,b){var c=currentViewState.isDetailsView(),d=furniture.GetAllAccessories();d.length&&c&&$("#main-image-container-accessories-remove").fadeIn("slow");for(var e=[{name:"xl1",width:960,height:570},{name:"xl2",width:734,height:570},{name:"xl3",width:600,height:570},{name:"l",width:734,height:570},{name:"m",width:600,height:570},{name:"s",width:367,height:285},{name:"xs",width:300,height:233}],f=$("#mainImageContainer img:visible").data("responsive"),g=0;g<e.length;++g){var h=e[g],i=h.name,j=$("#mainImageContainer"),k=$(j).width(),l=$(j).height(),m=furniture.GetNewAccessoriesPosition(k,l),n=furniture.GetNewAccessoriesSize(k,l,a.areaA),o=m.y,p=m.x,q=n.w,r=n.h;b||(b=100-parseInt(d.length));var s='style="position:absolute; bottom: '+o+"px; left:"+p+"px; width: "+q+"px; height: "+r+"px; z-index:"+b+';"',t='<img class="st-accessories-img st-responsive-'+i+'" src="'+a.url+'" '+s+' data-accessories-id="'+a.id+'" data-accessories-lp="'+d.length+'" data-accessories-repons="'+i.toUpperCase()+'">';$("#mainImageContainer").append(t),c&&f===i.toUpperCase()?$("#mainImageContainer").find(".st-accessories-img:last").hide().fadeIn("fast"):$("#mainImageContainer").find(".st-accessories-img:last").hide()}}function CookieParser_Class(){var a=this;a.encodeCookie=function(a){for(var c=0;c<b.length;c++)if(a.indexOf(b[c][0])>=0){var d=new RegExp(b[c][0],"g");a=a.replace(d,b[c][1])}return a},a.decodeCookie=function(a){for(var c=0;c<b.length;c++)if(a.indexOf(b[c][1])>=0){var d=new RegExp(b[c][1],"g");a=a.replace(d,b[c][0])}return a};var b=[["ST_biurko_110","STB110"],["ST_biurko_140","STB140"],["ST_barek","STBA"],["ST_bufet","STBU"],["ST_kanapa","STKA"],["ST_komoda_90_listwa","STK90L"],["ST_komoda_90_solid","STK90S"],["ST_komoda_drzwi","STKD"],["ST_komoda_waska","STKW"],["ST_lozko_90","STL90"],["ST_lozko_120","STL120"],["ST_lozko_140","STL140"],["ST_lozko_160","STL160"],["ST_lozko_180","STL180"],["ST_polka_kostka","STPK"],["ST_polka_scienna","STPS"],["ST_polka_scienna_haczyki","STPSH"],["ST_regal_1x5","STR15"],["ST_regal_2x5","STR25"],["ST_regal_3x4","STR34"],["ST_regal_4x5","STR45"],["ST_rtv_120","STRTV120"],["ST_rtv_180","STRTV180"],["ST_stol_kawowy_niski","STSKN"],["ST_stol_kawowy_wysoki","STSKW"],["ST_stol_kwadrat","STSK"],["ST_stol_okragly","STSO"],["ST_stol_prostokat","STSP"],["ST_stolik_nocny_drzwi","STSND"],["ST_stolik_nocny_szuflady","STSNS"],["ST_szafa_1D","STS1D"],["ST_szafa_1D_nadstawka","STS1DN"],["ST_szafa_2D","STS2D"],["ST_szafa_2D_nadstawka","STS2DN"],["ST_szafa_4D","STS4D"],["ST_szafa_narozna","STSN"],["ST_szafa_narozna_nadstawka","STSNN"],["ST_toaletka","STT"],["ST_witryna","STW"],["front","STft"],["nozki","STni"],["korpus","STks"],["uchwyt","STut"],["wozki","STwi"],["ustawionoZestaw","STuz"],["white","STwe"],["gray","STgy"],["black","STbk"],["wood","STwd"],["legs-none","STln"],["legs-black","STlb"],["legs-wood","STlw"],["legs-cone","STlc"],["legs-trapeze","STlt"],["legs-skids","STls"],["legs-wheels","STlws"],['{"id":7,"name":"akc_przybornik_duzy","thumb":"akc_przybornik_duzy.png","desc":"","url":"../assets/img/accessories/STB140_akc_przybornik_duzy.png","width":238,"areaA":{"a":207,"b":163},"realWidth":36,"offset":0,"preset":true,"popover":{"name":"PRZYBORNIK DUŻY","description":"","url":"../assets/img/popover/akc_przybornik_duzy.png"},"bigUrl":"../assets/menu/thumbs/akc_przybornik_duzy_big.png"},{"id":11,"name":"akc_tablica","thumb":"akc_tablica.png","desc":"","url":"../assets/img/accessories/STB140_akc_tablica.png","width":214,"areaA":{"a":139,"b":163},"realWidth":24,"offset":0,"preset":true,"popover":{"name":"TABLICA","description":"","url":"../assets/img/popover/akc_tablica.png"},"bigUrl":"../assets/menu/thumbs/akc_tablica_big.png"},{"id":9,"name":"akc_ramka","thumb":"akc_ramka.png","desc":"","url":"../assets/img/accessories/STB140_akc_ramka.png","width":111,"areaA":{"a":96,"b":91},"realWidth":16.5,"offset":0,"preset":false,"popover":{"name":"RAMKA NA ZDJĘCIE","description":"","url":"../assets/img/popover/akc_ramka.png"},"bigUrl":"../assets/menu/thumbs/akc_ramka_big.png"},{"id":5,"name":"akc_memo","thumb":"akc_memo.png","desc":"","url":"../assets/img/accessories/STB140_akc_memo.png","width":79,"areaA":{"a":70,"b":102},"realWidth":12,"offset":0,"preset":true,"popover":null,"bigUrl":"../assets/menu/thumbs/akc_memo_big.png"},{"id":4,"name":"akc_telefon","thumb":"akc_telefon.png","desc":"","url":"../assets/img/accessories/STB140_akc_telefon.png","width":79,"areaA":{"a":61,"b":86},"realWidth":11,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TELEFON","description":"","url":"../assets/img/popover/akc_telefon.png"},"bigUrl":"../assets/menu/thumbs/akc_telefon_big.png"},{"id":2,"name":"akc_wyp25","thumb":"akc_wyp25.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp25.png","width":166,"areaA":{"a":145,"b":80},"realWidth":25,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 25cm","description":"","url":"../assets/img/popover/akc_wyp25.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp25_big.png"}',"ST_B140_1"],['{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp40.png","width":255,"areaA":{"a":228,"b":126},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"},{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp15.png","width":102,"areaA":{"a":89,"b":50},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"},{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp40.png","width":255,"areaA":{"a":228,"b":126},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"},{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp40.png","width":255,"areaA":{"a":228,"b":126},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"}',"ST_B140_2"],['{"id":4,"name":"akc_telefon","thumb":"akc_telefon.png","desc":"","url":"../assets/img/accessories/STK90L_akc_telefon.png","width":97.96,"areaA":{"a":75.64,"b":106.64},"realWidth":11,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TELEFON","description":"","url":"../assets/img/popover/akc_telefon.png"},"bigUrl":"../assets/menu/thumbs/akc_telefon_big.png"},{"id":6,"name":"akc_probowka","thumb":"akc_probowka.png","desc":"","url":"../assets/img/accessories/STK90L_akc_probowka.png","width":37.2,"areaA":{"a":29.759999999999998,"b":97.96},"realWidth":3.5,"offset":0,"preset":false,"popover":{"name":"WAZON","description":"","url":"../assets/img/popover/akc_probowka.png"},"bigUrl":"../assets/menu/thumbs/akc_probowka_big.png"},{"id":5,"name":"akc_memo","thumb":"akc_memo.png","desc":"","url":"../assets/img/accessories/STK90L_akc_memo.png","width":97.96,"areaA":{"a":86.8,"b":126.48},"realWidth":12,"offset":0,"preset":true,"popover":null,"bigUrl":"../assets/menu/thumbs/akc_memo_big.png"},{"id":8,"name":"akc_przybornik_sredni","thumb":"akc_przybornik_sredni.png","desc":"","url":"../assets/img/accessories/STK90L_akc_przybornik_sredni.png","width":66.96,"areaA":{"a":57.04,"b":76.88},"realWidth":7.5,"offset":0,"preset":true,"popover":{"name":"PRZYBORNIK MAŁY","description":"","url":"../assets/img/popover/akc_przybornik_sredni.png"},"bigUrl":"../assets/menu/thumbs/akc_przybornik_sredni_big.png"},{"id":9,"name":"akc_ramka","thumb":"akc_ramka.png","desc":"","url":"../assets/img/accessories/STK90L_akc_ramka.png","width":137.64,"areaA":{"a":119.03999999999999,"b":112.84},"realWidth":16.5,"offset":0,"preset":false,"popover":{"name":"RAMKA NA ZDJĘCIE","description":"","url":"../assets/img/popover/akc_ramka.png"},"bigUrl":"../assets/menu/thumbs/akc_ramka_big.png"},{"id":6,"name":"akc_probowka","thumb":"akc_probowka.png","desc":"","url":"../assets/img/accessories/STK90L_akc_probowka.png","width":37.2,"areaA":{"a":29.759999999999998,"b":97.96},"realWidth":3.5,"offset":0,"preset":false,"popover":{"name":"WAZON","description":"","url":"../assets/img/popover/akc_probowka.png"},"bigUrl":"../assets/menu/thumbs/akc_probowka_big.png"},{"id":2,"name":"akc_wyp25","thumb":"akc_wyp25.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp25.png","width":205.84,"areaA":{"a":179.8,"b":99.2},"realWidth":25,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 25cm","description":"","url":"../assets/img/popover/akc_wyp25.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp25_big.png"}',"ST_K_1"],['{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp15.png","width":126.48,"areaA":{"a":110.36,"b":62},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"},{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp15.png","width":126.48,"areaA":{"a":110.36,"b":62},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"},{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp40.png","width":316.2,"areaA":{"a":282.71999999999997,"b":156.24},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"},{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp15.png","width":126.48,"areaA":{"a":110.36,"b":62},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"}',"ST_K_2"],['{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_wyp40.png","width":198.9,"areaA":{"a":177.84,"b":98.28},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"},{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_wyp40.png","width":198.9,"areaA":{"a":177.84,"b":98.28},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"},{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_wyp40.png","width":198.9,"areaA":{"a":177.84,"b":98.28},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"},{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_wyp40.png","width":198.9,"areaA":{"a":177.84,"b":98.28},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"}',"ST_rtv180_1"],['{"id":4,"name":"akc_telefon","thumb":"akc_telefon.png","desc":"","url":"../assets/img/accessories/STSNS_akc_telefon.png","width":131.14,"areaA":{"a":101.25999999999999,"b":142.76},"realWidth":11,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TELEFON","description":"","url":"../assets/img/popover/akc_telefon.png"},"bigUrl":"../assets/menu/thumbs/akc_telefon_big.png"},{"id":8,"name":"akc_przybornik_sredni","thumb":"akc_przybornik_sredni.png","desc":"","url":"../assets/img/accessories/STSNS_akc_przybornik_sredni.png","width":89.64,"areaA":{"a":76.36,"b":102.92},"realWidth":7.5,"offset":0,"preset":true,"popover":{"name":"PRZYBORNIK MAŁY","description":"","url":"../assets/img/popover/akc_przybornik_sredni.png"},"bigUrl":"../assets/menu/thumbs/akc_przybornik_sredni_big.png"},{"id":9,"name":"akc_ramka","thumb":"akc_ramka.png","desc":"","url":"../assets/img/accessories/STSNS_akc_ramka.png","width":184.26,"areaA":{"a":159.35999999999999,"b":151.06},"realWidth":16.5,"offset":0,"preset":false,"popover":{"name":"RAMKA NA ZDJĘCIE","description":"","url":"../assets/img/popover/akc_ramka.png"},"bigUrl":"../assets/menu/thumbs/akc_ramka_big.png"}',"ST_SN_1"],['{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp15.png","width":102,"areaA":{"a":89,"b":50},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"}',"ST_B140_akcw15"],['{"id":2,"name":"akc_wyp25","thumb":"akc_wyp25.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp25.png","width":166,"areaA":{"a":145,"b":80},"realWidth":25,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 25cm","description":"","url":"../assets/img/popover/akc_wyp25.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp25_big.png"}',"ST_B140_akcw25"],['{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STB140_akc_wyp40.png","width":255,"areaA":{"a":228,"b":126},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"}',"ST_B140_akcw40"],['{"id":6,"name":"akc_probowka","thumb":"akc_probowka.png","desc":"","url":"../assets/img/accessories/STB140_akc_probowka.png","width":30,"areaA":{"a":24,"b":79},"realWidth":3.5,"offset":0,"preset":false,"popover":{"name":"WAZON","description":"","url":"../assets/img/popover/akc_probowka.png"},"bigUrl":"../assets/menu/thumbs/akc_probowka_big.png"}',"ST_B140_prob"],['{"id":9,"name":"akc_ramka","thumb":"akc_ramka.png","desc":"","url":"../assets/img/accessories/STB140_akc_ramka.png","width":111,"areaA":{"a":96,"b":91},"realWidth":16.5,"offset":0,"preset":false,"popover":{"name":"RAMKA NA ZDJĘCIE","description":"","url":"../assets/img/popover/akc_ramka.png"},"bigUrl":"../assets/menu/thumbs/akc_ramka_big.png"}',"ST_B140_ramka"],['{"id":4,"name":"akc_telefon","thumb":"akc_telefon.png","desc":"","url":"../assets/img/accessories/STB140_akc_telefon.png","width":79,"areaA":{"a":61,"b":86},"realWidth":11,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TELEFON","description":"","url":"../assets/img/popover/akc_telefon.png"},"bigUrl":"../assets/menu/thumbs/akc_telefon_big.png"}',"ST_B140_tel"],['{"id":10,"name":"akc_tablet","thumb":"akc_tablet.png","desc":"","url":"../assets/img/accessories/STB140_akc_tablet.png","width":197,"areaA":{"a":174,"b":210},"realWidth":31,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TABLET","description":"","url":"../assets/img/popover/akc_tablet.png"},"bigUrl":"../assets/menu/thumbs/akc_tablet_big.png"}',"ST_B140_tab"],['{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp15.png","width":126.48,"areaA":{"a":110.36,"b":62},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"}',"ST_K_akcw15"],['{"id":2,"name":"akc_wyp25","thumb":"akc_wyp25.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp25.png","width":205.84,"areaA":{"a":179.8,"b":99.2},"realWidth":25,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 25cm","description":"","url":"../assets/img/popover/akc_wyp25.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp25_big.png"}',"ST_K_akcw25"],['{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STK90L_akc_wyp40.png","width":316.2,"areaA":{"a":282.71999999999997,"b":156.24},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"}',"ST_K_akcw40"],['{"id":6,"name":"akc_probowka","thumb":"akc_probowka.png","desc":"","url":"../assets/img/accessories/STK90L_akc_probowka.png","width":37.2,"areaA":{"a":29.759999999999998,"b":97.96},"realWidth":3.5,"offset":0,"preset":false,"popover":{"name":"WAZON","description":"","url":"../assets/img/popover/akc_probowka.png"},"bigUrl":"../assets/menu/thumbs/akc_probowka_big.png"}',"ST_K_prob"],['{"id":9,"name":"akc_ramka","thumb":"akc_ramka.png","desc":"","url":"../assets/img/accessories/STK90L_akc_ramka.png","width":137.64,"areaA":{"a":119.03999999999999,"b":112.84},"realWidth":16.5,"offset":0,"preset":false,"popover":{"name":"RAMKA NA ZDJĘCIE","description":"","url":"../assets/img/popover/akc_ramka.png"},"bigUrl":"../assets/menu/thumbs/akc_ramka_big.png"}',"ST_K_ramka"],['{"id":4,"name":"akc_telefon","thumb":"akc_telefon.png","desc":"","url":"../assets/img/accessories/STK90L_akc_telefon.png","width":97.96,"areaA":{"a":75.64,"b":106.64},"realWidth":11,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TELEFON","description":"","url":"../assets/img/popover/akc_telefon.png"},"bigUrl":"../assets/menu/thumbs/akc_telefon_big.png"}',"ST_K_tel"],['{"id":10,"name":"akc_tablet","thumb":"akc_tablet.png","desc":"","url":"../assets/img/accessories/STK90L_akc_tablet.png","width":244.28,"areaA":{"a":215.76,"b":260.4},"realWidth":31,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TABLET","description":"","url":"../assets/img/popover/akc_tablet.png"},"bigUrl":"../assets/menu/thumbs/akc_tablet_big.png"}',"ST_K_tab"],['{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_wyp15.png","width":79.56,"areaA":{"a":69.42,"b":39},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"}',"ST_rtv_akcw15"],['{"id":2,"name":"akc_wyp25","thumb":"akc_wyp25.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_wyp25.png","width":129.48000000000002,"areaA":{"a":113.10000000000001,"b":62.400000000000006},"realWidth":25,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 25cm","description":"","url":"../assets/img/popover/akc_wyp25.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp25_big.png"}',"ST_rtv_akcw25"],['{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_wyp40.png","width":198.9,"areaA":{"a":177.84,"b":98.28},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"}',"ST_rtv_akcw40"],['{"id":6,"name":"akc_probowka","thumb":"akc_probowka.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_probowka.png","width":23.400000000000002,"areaA":{"a":18.72,"b":61.620000000000005},"realWidth":3.5,"offset":0,"preset":false,"popover":{"name":"WAZON","description":"","url":"../assets/img/popover/akc_probowka.png"},"bigUrl":"../assets/menu/thumbs/akc_probowka_big.png"}',"ST_rtv_prob"],['{"id":9,"name":"akc_ramka","thumb":"akc_ramka.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_ramka.png","width":86.58,"areaA":{"a":74.88,"b":70.98},"realWidth":16.5,"offset":0,"preset":false,"popover":{"name":"RAMKA NA ZDJĘCIE","description":"","url":"../assets/img/popover/akc_ramka.png"},"bigUrl":"../assets/menu/thumbs/akc_ramka_big.png"}',"ST_rtv_ramka"],['{"id":4,"name":"akc_telefon","thumb":"akc_telefon.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_telefon.png","width":61.620000000000005,"areaA":{"a":47.58,"b":67.08},"realWidth":11,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TELEFON","description":"","url":"../assets/img/popover/akc_telefon.png"},"bigUrl":"../assets/menu/thumbs/akc_telefon_big.png"}',"ST_rtv_tel"],['{"id":10,"name":"akc_tablet","thumb":"akc_tablet.png","desc":"","url":"../assets/img/accessories/STRTV180_akc_tablet.png","width":153.66,"areaA":{"a":135.72,"b":163.8},"realWidth":31,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TABLET","description":"","url":"../assets/img/popover/akc_tablet.png"},"bigUrl":"../assets/menu/thumbs/akc_tablet_big.png"}',"ST_rtv_tab"],['{"id":1,"name":"akc_wyp15","thumb":"akc_wyp15.png","desc":"","url":"../assets/img/accessories/STSNS_akc_wyp15.png","width":169.32,"areaA":{"a":147.73999999999998,"b":83},"realWidth":15,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 15cm","description":"","url":"../assets/img/popover/akc_wyp15.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp15_big.png"}',"ST_SN_akcw15"],['{"id":2,"name":"akc_wyp25","thumb":"akc_wyp25.png","desc":"","url":"../assets/img/accessories/STSNS_akc_wyp25.png","width":275.56,"areaA":{"a":240.7,"b":132.79999999999998},"realWidth":25,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 25cm","description":"","url":"../assets/img/popover/akc_wyp25.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp25_big.png"}',"ST_SN_akcw25"],['{"id":3,"name":"akc_wyp40","thumb":"akc_wyp40.png","desc":"","url":"../assets/img/accessories/STSNS_akc_wyp40.png","width":424.96,"areaA":{"a":391.76,"b":210.82},"realWidth":40,"offset":0,"preset":false,"popover":{"name":"ZAŚLEPKA 40cm","description":"","url":"../assets/img/popover/akc_wyp40.png"},"bigUrl":"../assets/menu/thumbs/akc_wyp40_big.png"}',"ST_SN_akcw40"],['{"id":6,"name":"akc_probowka","thumb":"akc_probowka.png","desc":"","url":"../assets/img/accessories/STSNS_akc_probowka.png","width":49.8,"areaA":{"a":39.839999999999996,"b":131.14},"realWidth":3.5,"offset":0,"preset":false,"popover":{"name":"WAZON","description":"","url":"../assets/img/popover/akc_probowka.png"},"bigUrl":"../assets/menu/thumbs/akc_probowka_big.png"}',"ST_SN_prob"],['{"id":9,"name":"akc_ramka","thumb":"akc_ramka.png","desc":"","url":"../assets/img/accessories/STSNS_akc_ramka.png","width":184.26,"areaA":{"a":159.35999999999999,"b":151.06},"realWidth":16.5,"offset":0,"preset":false,"popover":{"name":"RAMKA NA ZDJĘCIE","description":"","url":"../assets/img/popover/akc_ramka.png"},"bigUrl":"../assets/menu/thumbs/akc_ramka_big.png"}',"ST_SN_ramka"],['{"id":4,"name":"akc_telefon","thumb":"akc_telefon.png","desc":"","url":"../assets/img/accessories/STSNS_akc_telefon.png","width":131.14,"areaA":{"a":101.25999999999999,"b":142.76},"realWidth":11,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TELEFON","description":"","url":"../assets/img/popover/akc_telefon.png"},"bigUrl":"../assets/menu/thumbs/akc_telefon_big.png"}',"ST_SN_tel"],['{"id":10,"name":"akc_tablet","thumb":"akc_tablet.png","desc":"","url":"../assets/img/accessories/STSNS_akc_tablet.png","width":327.02,"areaA":{"a":288.84,"b":348.59999999999997},"realWidth":31,"offset":0,"preset":false,"popover":{"name":"UCHWYT NA TABLET","description":"","url":"../assets/img/popover/akc_tablet.png"},"bigUrl":"../assets/menu/thumbs/akc_tablet_big.png"}',"ST_SN_tab"]]}var BODY="st-body",FRONTS="st-front",HANDLES="st-handles",LEGS="st-legs",ACCESSORIES="st-accessories",ST_BIURKO_110_ID="ST_biurko_110",ST_BIURKO_140_ID="ST_biurko_140",ST_BAREK_ID="ST_barek",ST_BUFET_ID="ST_bufet",ST_KANAPA_ID="ST_kanapa",ST_KOMODA_90_LISTWA_ID="ST_komoda_90_listwa",ST_KOMODA_90_SOLID_ID="ST_komoda_90_solid",ST_KOMODA_DRZWI_ID="ST_komoda_drzwi",ST_KOMODA_WASKA_ID="ST_komoda_waska",ST_LOZKO_90_ID="ST_lozko_90",ST_LOZKO_120_ID="ST_lozko_120",ST_LOZKO_140_ID="ST_lozko_140",ST_LOZKO_160_ID="ST_lozko_160",ST_LOZKO_180_ID="ST_lozko_180",ST_POLKA_KOSTKA_ID="ST_polka_kostka",ST_POLKA_SCIENNA_ID="ST_polka_scienna",ST_POLKA_SCIENNA_HACZYKI_ID="ST_polka_scienna_haczyki",ST_REGAL_1X5_ID="ST_regal_1x5",ST_REGAL_2X5_ID="ST_regal_2x5",ST_REGAL_3X4_ID="ST_regal_3x4",ST_REGAL_4X5_ID="ST_regal_4x5",ST_RTV_120_ID="ST_rtv_120",ST_RTV_180_ID="ST_rtv_180",ST_STOL_KAWOWY_NISKI_ID="ST_stol_kawowy_niski",ST_STOL_KAWOWY_WYSOKI_ID="ST_stol_kawowy_wysoki",ST_STOL_KWADRAT_ID="ST_stol_kwadrat",ST_STOL_OKRAGLY_ID="ST_stol_okragly",ST_STOL_PROSTOKAT_ID="ST_stol_prostokat",ST_STOLIK_NOCNY_DRZWI_ID="ST_stolik_nocny_drzwi",ST_STOLIK_NOCNY_SZUFLADY_ID="ST_stolik_nocny_szuflady",ST_SZAFA_1D_ID="ST_szafa_1D",ST_SZAFA_1D_NADSTAWKA_ID="ST_szafa_1D_nadstawka",ST_SZAFA_2D_ID="ST_szafa_2D",ST_SZAFA_2D_NADSTAWKA_ID="ST_szafa_2D_nadstawka",ST_SZAFA_4D_ID="ST_szafa_4D",ST_SZAFA_NAROZNA_ID="ST_szafa_narozna",ST_SZAFA_NAROZNA_NADSTAWKA_ID="ST_szafa_narozna_nadstawka",ST_TOALETKA_ID="ST_toaletka",ST_WITRYNA_ID="ST_witryna";!function(a){a.fn.unveil=function(b,c){function j(){var b=h.filter(function(){var b=a(this);if(!b.is(":hidden")){var c=d.scrollTop(),f=c+d.height(),g=b.offset().top;return g+b.height()>=c-e&&g<=f+e}});i=b.trigger("unveil"),h=h.not(i)}var i,d=a(window),e=b||0,f=window.devicePixelRatio>1,g=f?"data-src-retina":"data-src",h=this;return this.one("unveil",function(){var a=this.getAttribute(g);(a=a||this.getAttribute("data-src"))&&(this.setAttribute("src",a),"function"==typeof c&&c.call(this))}),d.on("scroll.unveil resize.unveil lookup.unveil",j),j(),this}}(window.jQuery||window.Zepto),function(a){function b(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?d.transparent:d[a.trim(b).toLowerCase()]}function c(c,d){var e;do{if(""!=(e=a.css(c,d))&&"transparent"!=e||a.nodeName(c,"body"))break;d="backgroundColor"}while(c=c.parentNode);return b(e)}a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(d,e){a.fx.step[e]=function(a){a.colorInit||(a.start=c(a.elem,e),a.end=b(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+[Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1]),255),0),Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2]),255),0)].join(",")+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]}}(jQuery);var furniture,menu,useServerMethod=!0,currentViewState=new ViewState,voxData,_voxboxLoggedUserId=null,isSaveABuy=!0;$("#loadExternalProjectButton").on("click",handleFileSelection),$(function(){function a(){for(var a=!0,b=$(this).parents(".st-main-menu-sections").find(".collapse"),c=0;c<b.length;++c){var d=b[c];$(d).attr("id")!==$(this).attr("id")&&"true"===$(d).attr("aria-expanded")&&($(d).collapse("hide"),a=!1)}a||console.log("collapse force changed")}function b(a){function b(a){if("OK"!==a)c(a);else{var e=simpleTalkResources.getResource("correct_voxbox_save");$(".st-voxbox-save-result p").text(e),0==$(".st-voxbox-save-result:visible").length?$(".st-voxbox-save-result").removeClass("alert-danger").addClass("alert-success").slideDown("slow"):$(".st-voxbox-save-result").stop().animate({backgroundColor:"#d6e9c6"},300,function(){$(".st-voxbox-save-result").stop().animate({backgroundColor:"#dff0d8"},300)})}}function c(a){var d=simpleTalkResources.getResource("unknow_voxbox_error");$(".st-voxbox-save-result p").text(d),0==$(".st-voxbox-save-result:visible").length?$(".st-voxbox-save-result").removeClass("alert-success").addClass("alert-danger").slideDown("slow"):$(".st-voxbox-save-result").stop().animate({backgroundColor:"#ebccd1"},300,function(){$(".st-voxbox-save-result").stop().animate({backgroundColor:"#f2dede"},300)})}function d(){var c=simpleTalkResources.getResource("invalid_voxbox_session");$(".st-voxbox-save-result p").text(c),0==$(".st-voxbox-save-result:visible").length?$(".st-voxbox-save-result").removeClass("alert-success").addClass("alert-danger").slideDown("slow"):$(".st-voxbox-save-result").stop().animate({backgroundColor:"#ebccd1"},300,function(){$(".st-voxbox-save-result").stop().animate({backgroundColor:"#f2dede"},300)})}a.preventDefault(),null!=getUserID()?SaveProject(b,c):d()}function e(){$("#main-image-container-accessories-remove").hide(),$(".st-accessories-img").hide(),$(".mainImageHover").hide()}function f(){currentViewState.isDetailsView()&&(furniture.RedrawAllAccessories(),furniture.GetAllAccessories().length&&currentViewState.isDetailsView()&&$("#main-image-container-accessories-remove").show(),showActualAccessoriesLayer())}$("#fog").show(),$(".mainImageHover").hide(),$("#st-special-loading-canvas").hide(),$(".st-step-accordion-header-collapse").on("click",function(b){function f(a,b,c){$(a).hasClass(b)||($(a).hasClass(c)&&$(a).removeClass(c),$(a).addClass(b))}function g(a){f($(a).find(c),d,e)}function h(a){f($(a).find(c),e,d)}function i(){var a=$(".st-step-accordion-header-collapse");if(a.length)for(var b=0;b<a.length;++b){var c=a.get(b);h($(c))}}var c=".st-step-accordion-header-collapse-icon",d="fa-caret-up",e="fa-caret-down",j=$(this).attr("href");$(j).off("show.bs.collapse",a).on("show.bs.collapse",a),i();var k=$(this).hasClass("collapsed");k?g($(this)):h($(this)),"st-accessories-group"===$(this).parents(".panel-heading").attr("id")?k&&!currentViewState.isDetailsView()&&($("#main-image-container-view-change-front").removeClass("active"),$("#main-image-container-view-change-details").addClass("active"),ChangeViewToDetails()):k&&!currentViewState.isMainView()&&($("#main-image-container-view-change-front").addClass("active"),$("#main-image-container-view-change-details").removeClass("active"),ChangeViewToMain())}),$("#main-image-container-view-change-front").on("click",function(a){a.preventDefault(),ChangeViewToMain()}),$("#main-image-container-view-change-details").on("click",function(a){a.preventDefault(),ChangeViewToDetails()}),$("#st-confirmed-edit-btn").on("click",function(a){a.preventDefault(),furniture.GetAllAccessories().length&&currentViewState.isDetailsView()&&$("#main-image-container-accessories-remove").fadeIn(),$("#main-menu-confirmed").fadeOut("slow",function(){$("#mainMenu").fadeIn("slow"),$(".st-voxbox-save-result").hide();for(var a=$("#st-confirmed-accordion .collapse"),b=0;b<a.length;++b){var c=a[b];$(c).collapse("hide")}})}),$(".st-main-menu-price .st-spinner-numeric-btn.up").on("click",function(a){a.preventDefault();var b=$(".st-main-menu-price .st-spinner"),c=parseInt($(b).val());$.isNumeric(c)&&$(b).val(c+1)}),$(".st-main-menu-price .st-spinner-numeric-btn.down").on("click",function(a){a.preventDefault();var b=$(".st-main-menu-price .st-spinner"),c=parseInt($(b).val());$.isNumeric(c)&&c>1&&$(b).val(c-1)}),$("#main-image-container-accessories-remove").on("click",function(a){if(a.preventDefault(),a.stopPropagation(),furniture.HaveToRemoveAllAccessories())furniture.RemoveAllAccesories(),$("#mainImageContainer .st-accessories-img").remove(),furniture.SetPresetFlag(""),$(this).hide();else{var b=furniture.RemoveLastAccessories();if(null==b)$(this).hide();else{for(var c=$("#mainImageContainer .st-accessories-img"),d=0;d<c.length;++d){var e=c[d],f=$(e).data("accessories-id"),g=$(e).data("accessories-lp"),h=furniture.GetAllAccessories().length+1;b.id===parseInt(f)&&h===parseInt(g)&&$(e).fadeOut("fast",function(){$(this).remove()})}furniture.GetAllAccessories().length||$(this).hide()}}0===$("#st-accessories-group-collapsed .alert").length||$("#st-accessories-group-collapsed").find(".alert:last").slideUp("fast",function(){$(this).remove()}),SaveToCache(!1),updatePrice(GetFurniturePriceBasedOnCurrentState())}),$("#st-confirmed-accordion-voxbox-head").on("click",function(a){a.preventDefault(),""!==getUserID()?($(".st-voxbox-save-info").show(),$(".st-voxbox-login-info").hide()):($(".st-voxbox-save-info").hide(),$(".st-voxbox-login-info").show()),$(".st-voxbox-save-result").hide()}),$("#st-configurator-modal span.st-close").on("click",function(a){a.preventDefault(),$("#st-configurator-modal").css("display","none")}),$(".st-furniture-select-carousel-item").on("click",function(a){a.preventDefault();var b=$(this).data("furniture-id");b&&doInitializeActions(b,!0)}),$("#st-open-voxbox-modal-btn").on("click",function(a){a.preventDefault();var d=new VoxBoxSaveManager_Class(getUserID(),simpleTalkResources,!1),e=d.createHtml();$("#st-configurator-modal .st-modal-content-container").html(e),$("#st-configurator-modal").css("display","block"),d.addEvents(b,changeFurnitureProjectName)}),$(".st-configurator-close-container").on("click",function(a){a.preventDefault(),SendDataToVox("close"),setTimeout(function(){$(".st-furniture-select-container").hide(),$(".simple-talk-container .st-configurator-work-place").show(),SetAccordionInDefaultState(),SetDefaultPreviewState(),$("#main-image-container-view-change-front").addClass("active"),$("#main-image-container-view-change-details").removeClass("active"),ChangeViewToMain(),$("#fog").show()},1300)});var g=new ResizeManager_Class(e,f,$("#mainImageContainer"));if($(window).resize(function(){var a=$("#mainImageContainer").width(),b=$("#mainImageContainer").height();g.start(a,b)}),window.addEventListener?window.addEventListener("message",SetVoxData,!1):window.attachEvent&&window.attachEvent("onmessage",SetVoxData,!1),UpdateProgressBar(simpleTalkResources.getResource("other_creator_init_label")),$("#zatwierdz").click(SaveFurniture),$("#anuluj").click(Return),!SIMPLE_IN_VOX){var h=getFurnitureIdFromUrl();h?($("#main-image-container-view-change-fake-with-back").hide(),doInitializeActions(h,!1,function(){$("#fog").fadeOut("slow")})):($(".simple-talk-container .st-configurator-work-place").hide(),$(".st-furniture-select-container").show(),setTimeout(FinalizeProgressBar,2e3))}}),Furniture.prototype.HaveToRemoveAllAccessories=function(){return""!=this.allAccessoriesAreFromPreset},Furniture.prototype.SetPresetFlag=function(a){console.log("preset set: "+a),this.allAccessoriesAreFromPreset=a},Furniture.prototype.GetSelectedPresetName=function(){return this.allAccessoriesAreFromPreset},Furniture.prototype.getImagePath=function(a){var b="/assets/furnitures/"+this.id+"/front/"+this.front+"/nozki/"+this.nozki+"/1.png";return this.image=b,b},Furniture.prototype.ChangeName=function(a,b){this.name=a,b&&ChangeFurnitureName(this.name)},Furniture.prototype.getImagePathForResponsive=function(a){switch(a){case"XL":return"../assets/img/stLargeFake.png";case"L":case"M":case"S":return"../assets/img/stMediumFake.png";case"XS":return"../assets/img/stSmallFake.png"}return"/SimpleTalk/assets/img/stLargeFake.png"},Furniture.prototype.GetCurrentFurnitureSize=function(){var a=this.size.split(","),b=Number(a[0]),c=Number(a[1]),d=Number(a[2]);return""!=this.nozki&&"legs-none"!=this.nozki&&(d+=this.legsHeight),[b,c,d]},Furniture.prototype.toXML=function(){return new FurnitureForm_Class(this,{writerID:getUserID(),writeDate:getCurrentDateTime(),project_id:getUserID()+"_"+getCurrentDateTime(),project_name:this.name,groupID:2,collectionID:101,collectionName:"Simple Talk",type:this.id,id:this.modelId},"xml").generateForm()},Furniture.prototype.getSize=function(){var a=this.GetCurrentFurnitureSize();return a[0]+","+a[1]+","+a[2]},Furniture.prototype.toOrderXML=function(){var a='<?xml version="1.0" encoding="UTF-8"?>\n';return a+="<order>\n",a+="<model id>"+this.id+"</model id>",a+="<front>"+this.front+"</front id>",a+="<nozki>"+this.nozki+"</nozki id>",a+="<korpus>"+this.korpus+"</korpus id>",a+="<uchwyt>"+this.uchwyt+"</uchwyt id>",a+="</order>"},Furniture.prototype.Load=function(a){function b(a,b){var c=a+", "+b;console.log("Request Failed: "+c),$(".simple-talk-container").append('<div id="fog-error"><img class="absolute-center" src="../assets/img/stLogoError.png" alt="VOX - Simple Talk"/></div>'),$("#main-image-container-view-change-fake-with-back").hide(),FinalizeProgressBar(!0)}var c=this,d=c.id;$.getJSON("../assets/infoJsons/"+d+".json",function(b){var d=b.LargeDisplayInfo,e=b.MediumDisplayInfo,f=b.SmallDisplayInfo;d&&e&&f&&(c.bigAreaCalculator=new AccessoriesArea_Class(d.A,d.B,d.S),c.mediumAreaCalculator=new AccessoriesArea_Class(e.A,e.B,e.S),c.smallAreaCalculator=new AccessoriesArea_Class(f.A,f.B,f.S)),c.size=b.size,c.modelId=b.id,c.busWidth=b.busWidth,c.descriptions=b.descriptions,c.ChangeName(simpleTalkResources.getResource(b.name),!0),menu=new Menu(b),c.MakeDefault(a),FinalizeProgressBar(!0)}).fail(function(a,c,d){b(c,d)})},Furniture.prototype.getSelectedName=function(a){switch(a){case"st-front":return this.front;case"st-body":return this.korpus;case"st-legs":return this.nozki;case"st-handles":return this.uchwyt}return""},Furniture.prototype.MakeDefault=function(a){function b(a,b,c,d){function e(a,b,c){function d(a,b){for(var c=0;c<b.length;++c){if(b[c].name===a)return a}return b.length?b[0].name:""}switch(a){case"front":return d("white",b);case"nozki":return d("legs-none",b);case"korpus":case"uchwyt":return d("white",b)}}var f=b&&b.length?e(a,b,d):"",g=d[a];return c||(g=""),console.log("Wartosc domyslna dla: "+a+" to: "+(g||f)),g||f}var c=!0,d=GetFurnitureFromCache(furniture.id);d.length>0&&(d=JSON.parse(d)),this.front=b("front",menu.fronty,c,d),this.nozki=b("nozki",menu.nozki,c,d),this.korpus=b("korpus",menu.korpus,c,d),this.uchwyt=b("uchwyt",menu.uchwyt,c,d),haveToShowTableAlert(LEGS,this.nozki,this)&&showTableAlert(),menu.wózki&&(this.akcesoria=!0);var e=d.wozki;if(null!=e&&c){for(var f=0;f<e.length;f++)this.AddAccessories(e[f].id);this.RedrawAllAccessories()}this.allAccessoriesAreFromPreset=c?d.ustawionoZestaw:"",UpdateProgressBar(),a()},Furniture.prototype.LoadFromFile=function(a){this.front=a.front,this.nozki=a.nozki,this.korpus=a.korpus,this.uchwyt=a.uchwyt,this.userId=a.userId;var b=a.wozki;if(null!=b){for(var c=0;c<b.length;c++)this.AddAccessories(b[c].id);this.RedrawAllAccessories()}},Furniture.prototype.AddAccessories=function(a){function b(a,b){return new Accessories_Class(b,simpleTalkResources).getAccessoriesInfo(a)}function c(a,b,c,d){for(var e=0,f=0;f<b.length;++f){e+=b[f].realWidth}return(e+=a.realWidth)<=d}var d=b(a,this.id);return c(d,this.wozki,this.bigAreaCalculator.getAccessoriesArea(),this.busWidth)?(this.wozki.push(d),d):null},Furniture.prototype.RemoveLastAccessories=function(){if(this.wozki.length>0){var a=this.wozki[this.wozki.length-1];return this.wozki.splice(-1,1),a}return null},Furniture.prototype.GetAllAccessories=function(){return this.wozki},Furniture.prototype.getAreaCalculator=function(a){var b=$("#mainMenu .st-main-menu-header:visible").length>0;switch(a){case 960:return b?this.bigAreaCalculator:this.mediumAreaCalculator;case 734:return this.mediumAreaCalculator;case 600:return b?this.smallAreaCalculator:this.mediumAreaCalculator;default:return this.mediumAreaCalculator}},Furniture.prototype.GetNewAccessoriesPosition=function(a,b){return this.getAreaCalculator(a).getNewAccessoriesPosition(this.wozki,a,b,this.id)},Furniture.prototype.GetExsistingAccessoriesPosition=function(a,b,c){return this.getAreaCalculator(a).getPositionFor(this.wozki,a,b,c,this.id)},Furniture.prototype.GetNewAccessoriesSize=function(a,b,c){return this.getAreaCalculator(a).getNewAccessoriesSize(a,b,c)},Furniture.prototype.GetAllBaseElements=function(){return[menu.GetElement(this.korpus,BODY),menu.GetElement(this.front,FRONTS),menu.GetElement(this.uchwyt,HANDLES),menu.GetElement(this.nozki,LEGS)]},Furniture.prototype.RedrawAllAccessories=function(){function a(a,b,c){for(var d=[{name:"xl1",width:960,height:570},{name:"xl2",width:734,height:570},{name:"xl3",width:600,height:570},{name:"l",width:734,height:570},{name:"m",width:600,height:570},{name:"s",width:367,height:285},{name:"xs",width:300,height:233}],f=($("#mainImageContainer img:visible").data("responsive"),0);f<d.length;++f){var g=d[f],h=g.name,i=$("#mainImageContainer"),j=$(i).width(),k=$(i).height(),l=c.GetExsistingAccessoriesPosition(j,k,b-1),m=c.GetNewAccessoriesSize(j,k,a.areaA),n=l.y,o=l.x,p=m.w,q=m.h,r='style="position:absolute; bottom: '+n+"px; left:"+o+"px; width: "+p+"px; height: "+q+'px;"',s='<img class="st-accessories-img st-responsive-'+h+'" src="'+a.url+'" '+r+' data-accessories-id="'+a.id+'" data-accessories-lp="'+b+'" data-accessories-repons="'+h.toUpperCase()+'">';$("#mainImageContainer").append(s),$("#mainImageContainer").find(".st-accessories-img:last").hide()}}$("#mainImageContainer .st-accessories-img").remove();for(var b=0;b<this.wozki.length;++b){a(this.wozki[b],b+1,this)}},Furniture.prototype.RemoveAllAccesories=function(){this.wozki=[]},Furniture.prototype.GetFurnitureState=function(){function a(a,b,c){for(var d=[],e=0;e<a.length;++e){var f=a[e];d.push(f.name)}if(b){var a=new Accessories_Class(c,simpleTalkResources),g=a.getPresetInfoByName(b);if(g){for(var e=0;e<g.elements.length;++e)for(var h=g.elements[e],i=0;i<d.length;++i){d[i];if(h.name==h.name){d.splice(i,1);break}}d.push(b)}}return d}return{body:this.korpus,front:this.front,legs:this.nozki,handles:this.uchwyt,accessories:this.akcesoria?a(this.wozki,this.allAccessoriesAreFromPreset,this.id):[],id:this.id,name:this.name}},Menu.prototype.Load=function(){function a(a){var b="#"+a+"-group";$(b).parent().hide()}if(UpdateProgressBar("Generowanie listy elementów"),this.fronty&&0!=this.fronty.length){$("#"+FRONTS+"-group").parent().show();var b=$("#"+FRONTS+"-group-collapsed .elementGroupMiniatures");b.html(""),$.each(this.fronty,function(a,b){createMiniature(FRONTS,b)})}else a(FRONTS);if(this.nozki&&0!=this.nozki.length){$("#"+LEGS+"-group").parent().show();var b=$("#"+LEGS+"-group-collapsed .elementGroupMiniatures");b.html(""),$.each(this.nozki,function(a,b){createMiniature(LEGS,b)})}else a(LEGS);if(this.korpus&&0!=this.korpus.length){$("#"+BODY+"-group").parent().show();var b=$("#"+BODY+"-group-collapsed .elementGroupMiniatures");b.html(""),$.each(this.korpus,function(a,b){createMiniature(BODY,b)})}else a(BODY);if(this.uchwyt&&0!=this.uchwyt.length){$("#"+HANDLES+"-group").parent().show();var b=$("#"+HANDLES+"-group-collapsed .elementGroupMiniatures");b.html(""),$.each(this.uchwyt,function(a,b){createMiniature(HANDLES,b)})}else a(HANDLES);if(0==this.wózki)a(ACCESSORIES);else{$("#"+ACCESSORIES+"-group").parent().show();var c=new Accessories_Class(furniture.id,simpleTalkResources),d=c.createPresetsHtml(!1),b=$("#"+ACCESSORIES+"-group-collapsed .presetGroupMiniatures");b.html(d),b.find(".dekor").on("click",function(a){a.preventDefault();var b=$(this).data("acc-id"),c=!1;furniture.RemoveAllAccesories(),$("#mainImageContainer .st-accessories-img").remove();for(var d=0;d<b.length;++d){currentViewState.isMainView()&&switchToDetailsViewA();var e=b[d],f=furniture.AddAccessories(e);null!=f?refreshAccessories(f):c=!0}var g=$(this).data("as-one"),h=$(this).data("name");furniture.SetPresetFlag(g?h:""),updatePrice(GetFurniturePriceBasedOnCurrentState()),c?showNoPlaceAlert():($(".st-preset-description-container").slideUp("slow"),hideNoPlaceAlert());for(var j=$("#mainImageContainer img:visible").data("responsive"),k=$(".mainImageHover"),d=0;d<k.length;++d){var l=k[d];$(l).data("responsive")===j&&$(l).show()}SaveToCache(!1)}),b.find(".dekor").popover({html:!0});var e=c.createElementsHtml(),f=$("#"+ACCESSORIES+"-group-collapsed .elementGroupMiniatures");f.html(e),f.find(".dekor").on("click",function(a){addAccessoriesToScene(a,this)}),f.find(".dekor").popover({html:!0})}if(this.descriptions)for(var g=0;g<this.descriptions.length;++g){var h=this.descriptions[g];$("#"+h.key).text(simpleTalkResources.getResource(h.value))}UpdateProgressBar("Budowa interfejsu")},Menu.prototype.GetElement=function(a,b){function c(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(d.name===a)return d}return null}switch(b){case BODY:return c(a,this.korpus);case FRONTS:return c(a,this.fronty);case HANDLES:return c(a,this.uchwyt);case LEGS:return c(a,this.nozki)}return null};